<ion-header class="ion-no-border">
  <ion-toolbar class="header-toolbar">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" color="dark">
        <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title mode="ios" class="page-title">DÃ©tails</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="share()" color="primary">
        <ion-icon name="share-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="page-content" *ngIf="client">
  <div class="header-decoration"></div>
  
  <div class="content-container">

    <!-- Client Header Card -->
    <div class="client-header-card shadow">
      <div class="avatar-large" [class.female]="client.userProfile?.gender === 'female'">
        <ion-icon [name]="client.userProfile?.gender === 'female' ? 'woman-outline' : 'man-outline'"></ion-icon>
      </div>
      <div class="client-info">
        <h2>{{ client.userProfile?.name || 'Client #' + client.id.substring(0,6) }}</h2>
        <div class="meta-row">
          <div class="meta-item">
            <ion-icon name="calendar-outline"></ion-icon>
            <span>{{ client.date | date:'dd MMM yyyy' }}</span>
          </div>
          <div class="meta-item" *ngIf="client.userProfile?.phone">
             <ion-icon name="call-outline"></ion-icon>
             <span>{{ client.userProfile?.phone }}</span>
          </div>
          <div class="meta-item">
            <ion-icon name="accessibility-outline"></ion-icon>
            <span>{{ client.userProfile?.height }}m</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Measurements List -->
    <div class="section-title">
      <h3>Mesures Extraites</h3>
      <span class="badge">{{ measurementsList.length }}</span>
    </div>

    <div class="measurements-grid">
      <div class="measure-card" *ngFor="let item of measurementsList">
        <div class="measure-top">
          <span class="label">{{ item.label }}</span>
        </div>
        <div class="value-container">
          <span class="value">{{ item.value }}</span>
          <span class="unit">cm</span>
        </div>
        <div class="card-bg-icon">
          <ion-icon name="trending-up-outline"></ion-icon>
        </div>
      </div>
    </div>

  </div>

</ion-content>
